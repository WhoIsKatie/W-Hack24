<!DOCTYPE html>
<html>
<head>
    <title>Email Frontend</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@latest/dist/tailwind.min.css" rel="stylesheet">
{#    <script src="js/scripts.js"></script>#}
</head>
<style>
    .container {
    display: flex;
    height: 100vh;
}

.email-list {
    flex: 0 0 20%;
    background-color: #f1f1f1;
    padding: 20px;
}

.email-list-item {
    margin-bottom: 10px;
    padding: 10px;
    background-color: #fff;
    cursor: pointer;
}

.email-list-item:hover {
    background-color: #eaeaea;
}

.email-viewer {
    flex: 1;
    padding: 20px;
}

.alert {
    position: fixed;
    top: 0;
    right: 0;
    visibility: hidden;
}
</style>
<script>
    console.log("js loaded")
document.addEventListener("DOMContentLoaded", function () {
    // Get the outer div element
    var emailList = document.getElementById("email_list");

    // Add a click event listener to the outer div
    emailList.addEventListener("click", function (event) {
        // Check if the clicked element is an inner div with class "email-list-item"
        if (event.target.classList.contains("email-list-item")) {
            // Get the specific inner div that was clicked
            var clickedEmail = event.target;

            // Perform actions based on the clicked inner div
            var emailContentDisplay = document.getElementById("email-content")
            var bodyArrayList = {{ body_array|tojson }};
            emailContentDisplay.innerHTML = bodyArrayList[clickedEmail.id.split("_")[1]];

            // You can perform any other actions here based on the clicked item
        }
    });
});
</script>
<body>
    <img class="alert" src="../app/alert.png" alt="">
    <div class="flex container">
        <div class="email-list w-1/3" id="email_list">
            {% for email in email_list %}
                <div class="email-list-item" id="email_{{ loop.index0 }}">{{ email }}</div>
            {% endfor %}
        </div>
        <div class="email-viewer w-2/3">
            <h2>Email Viewer</h2>
            <p id="email-content">Click on an email to view its content.</p>
        </div>
    </div>
    <script>
        function displayEmailContent(content) {
            document.getElementById("email-content").innerText = content;
        }
    </script>
</body>
</html>
